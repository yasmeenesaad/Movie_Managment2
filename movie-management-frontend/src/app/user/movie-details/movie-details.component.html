<!-- user/movie-details/movie-details.component.html -->
<mat-dialog-content class="movie-details">
  <div class="movie-header">
    <img [src]="movie.poster" [alt]="movie.title" onerror="this.src='assets/no-poster.jpg'">
    <div class="movie-info">
      <h1>{{ movie.title }} ({{ movie.year }})</h1>
      <p><strong>Director:</strong> {{ movie.director }}</p>
      <p><strong>Actors:</strong> {{ movie.actors }}</p>
      <p><strong>Plot:</strong> {{ movie.plot }}</p>
    </div>
  </div>

  <div class="ratings-section">
    <h2>Ratings</h2>
    <div *ngFor="let rating of movie.externalRatings" class="external-rating">
      <strong>{{ rating.source }}:</strong> {{ rating.value }}
    </div>

    <div class="user-rating">
      <h3>Your Rating</h3>
      <mat-button-toggle-group [(ngModel)]="userRating" (change)="rateMovie(userRating)">
        <mat-button-toggle *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]" [value]="i">{{i}}</mat-button-toggle>
      </mat-button-toggle-group>
      <p>Average Rating: {{ averageRating | number:'1.1-1' }}</p>
    </div>
  </div>
</mat-dialog-content>
